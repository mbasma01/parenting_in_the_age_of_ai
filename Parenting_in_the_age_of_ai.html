<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parenting in the Age of AI: An Interactive Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Warm Neutrals & Soft Accents -->
    <!-- Application Structure Plan: The SPA is designed as a single, vertically scrolling page with a sticky top navigation for easy access to key sections. The structure follows a logical flow: 1) The core 'Mindset Shift' is introduced. 2) The most practical part, 'The Art of the Creative Question', is made interactive with clickable examples to demonstrate the "Good, Better, Best" concept dynamically. 3) The 'Guardian's Playbook' provides actionable safety tips and a copyable 'Family AI Agreement' tool. This structure was chosen to guide parents from the conceptual "why" to the practical "how-to," making the information digestible and highly usable. The non-linear navigation supports parents who want to jump directly to specific topics like safety rules. -->
    <!-- Visualization & Content Choices: 
        - Mindset Shift (Consumer vs. Creator): Report Info -> Goal: Compare -> Viz/Presentation: Interactive text block -> Interaction: Button click updates text to show the evolution from a passive to an active mindset. Justification: Dynamically illustrates the core concept in a more engaging way than static text. Method: Vanilla JS.
        - Prompting Cheat Sheet: Report Info -> Goal: Organize & Compare -> Viz/Presentation: Tabbed component with categories -> Interaction: Clicking tabs reveals different sets of "Good, Better, Best" examples. Justification: Organizes a large amount of comparative text into a clean, user-driven interface, preventing information overload. Method: Vanilla JS & Tailwind.
        - Family AI Agreement: Report Info -> Goal: Enable & Inform -> Viz/Presentation: Styled text block with a button -> Interaction: "Copy to Clipboard" button. Justification: Provides a direct utility to the user, making the guide an actionable tool, not just a document. Method: Vanilla JS.
        - Icons: Unicode characters (e.g., ‚ú®, üõ°Ô∏è, ‚úÖ) are used for simple, lightweight visual cues without relying on image or SVG files.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        .active-nav {
            color: #1e40af; /* a deep blue */
            font-weight: 600;
            border-bottom: 2px solid #1e40af;
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .tab.active {
            background-color: #3b82f6; /* blue-500 */
            color: white;
        }
        .tab {
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .dragging {
            opacity: 0.5;
            transform: rotate(3deg);
        }
        .drag-over {
            border-style: solid;
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .modal {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="bg-stone-50 text-gray-800">

    <div id="app" class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <header id="home" class="text-center py-16">
            <h1 class="text-4xl md:text-5xl font-bold text-blue-900">A Parent's Guide to Navigating the Age of AI</h1>
            <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">This guide will help you shift your child's relationship with AI from passive consumption to active, responsible creation. Let's explore together.</p>
        </header>
        
        <nav class="sticky top-0 bg-stone-50/80 backdrop-blur-sm z-10 mb-12 border-b">
            <div class="flex justify-center flex-wrap space-x-4 sm:space-x-8 py-3">
                <a href="#mindset" class="nav-link px-3 py-2 text-sm sm:text-base font-medium text-gray-600 hover:text-blue-800">üí° The Mindset Shift</a>
                <a href="#prompting" class="nav-link px-3 py-2 text-sm sm:text-base font-medium text-gray-600 hover:text-blue-800">‚ú® Creative Questions</a>
                <a href="#playbook" class="nav-link px-3 py-2 text-sm sm:text-base font-medium text-gray-600 hover:text-blue-800">üõ°Ô∏è Guardian's Playbook</a>
                <a href="#about-spitha" class="nav-link px-3 py-2 text-sm sm:text-base font-medium text-gray-600 hover:text-blue-800">üöÄ About Spitha AI</a>
            </div>
        </nav>

        <main>
            <section id="mindset" class="py-12 scroll-mt-24">
                <h2 class="text-3xl font-bold text-center text-blue-800 mb-4">Module 1: The New Digital Reality</h2>
                <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">The key to navigating AI with your child is a crucial mindset shift. The tools below demonstrate this shift from passive consumption to active, creative engagement.</p>
                <div class="flex flex-col gap-8">
                    
                    <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-200">
                         <h3 class="text-2xl font-semibold text-gray-900 mb-6 text-center">The Mindset Shift in Action</h3>
                         <div class="w-full bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                            <p class="text-gray-700 font-medium">A passive <span class="font-bold text-red-600">consumer</span> asks:</p>
                            <p class="italic bg-white p-3 rounded my-2 text-gray-800">"What is the capital of Cyprus?"</p>
                            <p class="text-gray-700 font-medium mt-4">An active <span class="font-bold text-green-600">creator</span> asks:</p>
                            <p class="italic bg-white p-3 rounded my-2 text-gray-800">"Help me write a story about a time-traveling cat who visits ancient Cyprus to find a hidden treasure."</p>
                        </div>
                        <div class="mt-6">
                             <h4 class="text-lg font-semibold text-gray-900 mb-2">Why it Matters</h4>
                             <p class="text-gray-600 text-sm">Moving from asking "what" to "what if" encourages critical thinking, creativity, and problem-solving. It teaches your child to be the director of the AI, not just a passive audience member.</p>
                        </div>
                    </div>

                    <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-200">
                        <h3 class="text-2xl font-semibold text-gray-900 mb-4 text-center">Prompt Improver</h3>
                        <p class="text-xs text-center text-gray-500 mb-6">Please note: This tool is a proof of concept and may occasionally make mistakes.</p>
                        <div class="flex flex-col gap-6 w-full max-w-xl mx-auto">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="age-group" class="block text-sm font-medium text-gray-700 mb-2">Age Group</label>
                                    <select id="age-group" class="w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                                        <option value="5-7 years old">5-7 years</option>
                                        <option value="8-12 years old" selected>8-12 years</option>
                                        <option value="13+ years old">13+ years</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="activity-type" class="block text-sm font-medium text-gray-700 mb-2">Activity</label>
                                    <select id="activity-type" class="w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                                        <option value="Learn Something New">Learn</option>
                                        <option value="Explore a Topic">Explore</option>
                                        <option value="Have Fun & Be Silly">Have Fun</option>
                                    </select>
                                </div>
                            </div>
                            <div>
                                <label for="user-prompt" class="block text-sm font-medium text-gray-700 mb-2">Enter a simple prompt to improve it:</label>
                                <textarea id="user-prompt" rows="3" class="w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 shadow-sm" placeholder="e.g., Tell me about dragons"></textarea>
                            </div>
                            <div class="text-center">
                                <button id="improve-btn" class="bg-blue-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors transform hover:scale-105 w-full flex items-center justify-center gap-2">
                                    <span>Improve My Prompt</span> ‚ú®
                                </button>
                            </div>
                            <div id="result-container" class="hidden mt-4">
                                <h4 class="font-semibold text-lg text-gray-800">Improved Creative Prompt:</h4>
                                <div id="improved-prompt" class="mt-2 bg-green-50 p-4 rounded-lg border-l-4 border-green-500 text-gray-800 italic min-h-[70px]">
                                </div>
                                <div id="analysis-container" class="mt-6 border-t pt-4">
                                    <h4 class="font-semibold text-lg text-gray-800">Prompt Analysis</h4>
                                    <p class="text-sm text-gray-600 mb-2">Rating: <span id="prompt-rating" class="font-bold"></span></p>
                                    <h5 class="font-semibold text-sm text-gray-800 mt-3">Recommendations:</h5>
                                    <ul id="prompt-recommendations" class="list-disc list-inside text-sm text-gray-700 space-y-1 mt-1">
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="prompting" class="py-12 scroll-mt-24">
                <h2 class="text-3xl font-bold text-center text-blue-800 mb-4">Module 2: The Art of the Creative Question</h2>
                <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">This is where the magic happens! Learning to communicate effectively with AI is a vital skill. Here, you can explore how a simple question can be transformed into a powerful creative prompt. Click the tabs to see examples across different subjects.</p>
                
                <div class="bg-white p-6 sm:p-8 rounded-xl shadow-lg border border-gray-200">
                    <div class="mb-6">
                        <div id="tabs" class="flex flex-wrap justify-center gap-2 border-b border-gray-200 pb-4">
                            <button class="tab active px-4 py-2 text-sm font-semibold rounded-md bg-gray-100 text-gray-700" data-content="science">Science</button>
                            <button class="tab px-4 py-2 text-sm font-semibold rounded-md bg-gray-100 text-gray-700" data-content="creative">Creative Writing</button>
                            <button class="tab px-4 py-2 text-sm font-semibold rounded-md bg-gray-100 text-gray-700" data-content="history">History</button>
                        </div>
                    </div>
                    <div id="tab-content">
                    </div>
                </div>

                <div class="mt-12">
                    <h3 class="text-2xl font-bold text-center text-blue-800 mb-8">Try This at Home: Your First Creative Project</h3>
                    <div class="grid md:grid-cols-3 gap-8">
                        <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 text-center hover:shadow-xl transition-shadow">
                            <span class="text-4xl">üé®</span>
                            <h4 class="font-semibold text-lg my-2">Design a Dream Pet</h4>
                            <p class="text-gray-600 text-sm">Ask an AI image generator to create a picture of a "fluffy, six-legged cat with rainbow wings who lives on the moon."</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 text-center hover:shadow-xl transition-shadow">
                             <span class="text-4xl">üçï</span>
                            <h4 class="font-semibold text-lg my-2">Invent a Recipe</h4>
                            <p class="text-gray-600 text-sm">Prompt an AI to create a recipe for a silly snack, like "Gummy Bear and Pretzel Pizza."</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 text-center hover:shadow-xl transition-shadow">
                             <span class="text-4xl">üéµ</span>
                            <h4 class="font-semibold text-lg my-2">Write a Silly Song</h4>
                            <p class="text-gray-600 text-sm">Ask the AI to write lyrics for a song about your family pet, in the style of your child's favorite musician.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="playbook" class="py-12 scroll-mt-24">
                <h2 class="text-3xl font-bold text-center text-blue-800 mb-4">Module 3: The Guardian's Playbook</h2>
                <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">Your role is to be the guide and guardian in this new digital world. This means setting clear boundaries and teaching digital citizenship. This section provides the core principles for safe and responsible AI use.</p>
                
                <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-200 mb-12">
                     <h3 class="text-2xl font-semibold text-center text-gray-900 mb-8">The Three Pillars of Safe AI Use</h3>
                     <div class="grid md:grid-cols-3 gap-8">
                        <div class="text-center p-4">
                            <div class="bg-blue-100 text-blue-600 rounded-full h-16 w-16 flex items-center justify-center mx-auto text-3xl">‚úÖ</div>
                            <h4 class="font-semibold mt-4 mb-2">1. Be a Fact-Checker</h4>
                            <p class="text-sm text-gray-600">AI can make mistakes. Teach your child to always ask, "How can we check if this is true?" and verify information with a reliable source.</p>
                        </div>
                         <div class="text-center p-4">
                            <div class="bg-blue-100 text-blue-600 rounded-full h-16 w-16 flex items-center justify-center mx-auto text-3xl">üîí</div>
                            <h4 class="font-semibold mt-4 mb-2">2. Protect Personal Information</h4>
                            <p class="text-sm text-gray-600">This is non-negotiable. Teach your child <span class="font-bold">never</span> to share their full name, address, school, or photos with an AI chatbot.</p>
                        </div>
                         <div class="text-center p-4">
                            <div class="bg-blue-100 text-blue-600 rounded-full h-16 w-16 flex items-center justify-center mx-auto text-3xl">üéì</div>
                            <h4 class="font-semibold mt-4 mb-2">3. Use AI as a Tutor, Not a Shortcut</h4>
                            <p class="text-sm text-gray-600">Frame AI as a tool to help with learning, not cheating. Explore tools like Khanmigo that guide students instead of giving answers.</p>
                        </div>
                     </div>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-200 mb-12">
                    <h3 class="text-2xl font-semibold text-center text-gray-900 mb-2">Interactive Quiz: Safe to Share?</h3>
                    <p class="text-center text-gray-600 mb-6">Drag each card to the correct box to test your knowledge on digital safety.</p>
                    <div id="quiz-container" class="space-y-6">
                        <div id="card-deck" class="flex flex-wrap justify-center gap-4 p-4 bg-gray-100 rounded-lg min-h-[80px]">
                            <div class="quiz-card bg-white p-3 rounded-lg shadow cursor-grab active:cursor-grabbing text-sm" draggable="true" data-safe="true" data-reason="">Your favorite color</div>
                            <div class="quiz-card bg-white p-3 rounded-lg shadow cursor-grab active:cursor-grabbing text-sm" draggable="true" data-safe="false" data-reason="Your home address is private and tells strangers exactly where you live. This information should only be shared with trusted adults.">Your home address</div>
                            <div class="quiz-card bg-white p-3 rounded-lg shadow cursor-grab active:cursor-grabbing text-sm" draggable="true" data-safe="true" data-reason="">The name of your pet</div>
                            <div class="quiz-card bg-white p-3 rounded-lg shadow cursor-grab active:cursor-grabbing text-sm" draggable="true" data-safe="false" data-reason="Sharing your school's name can help strangers identify where you'll be on a daily basis, which is a safety risk.">Your school's name</div>
                            <div class="quiz-card bg-white p-3 rounded-lg shadow cursor-grab active:cursor-grabbing text-sm" draggable="true" data-safe="false" data-reason="Your full name is a key piece of personal information. It can be combined with other details to find out more about you and your family.">Your full name</div>
                            <div class="quiz-card bg-white p-3 rounded-lg shadow cursor-grab active:cursor-grabbing text-sm" draggable="true" data-safe="true" data-reason="">An idea for a story</div>
                            <div class="quiz-card bg-white p-3 rounded-lg shadow cursor-grab active:cursor-grabbing text-sm" draggable="true" data-safe="false" data-reason="This photo not only shows your school but also your face. Many AI models save uploaded photos to learn from them. You lose control over how your picture is used or who might use it in the future.">A photo in your school uniform</div>
                            <div class="quiz-card bg-white p-3 rounded-lg shadow cursor-grab active:cursor-grabbing text-sm" draggable="true" data-safe="false" data-reason="Even just the day and month can be a piece of the puzzle for someone trying to guess passwords or access your accounts. It's better to celebrate in person than share it widely online.">Your birthday (day & month)</div>
                            <div class="quiz-card bg-white p-3 rounded-lg shadow cursor-grab active:cursor-grabbing text-sm" draggable="true" data-safe="false" data-reason="Your face is your most personal identifier. When you upload a photo, it can be saved and used to train AI models. This means you lose control over how your image might be altered or used by others online.">A photo of your face</div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div id="safe-zone" class="drop-zone bg-green-100 border-2 border-dashed border-green-300 rounded-lg p-4 min-h-[100px]">
                                <h4 class="text-center font-semibold text-green-800">‚úÖ Safe to Share</h4>
                            </div>
                            <div id="unsafe-zone" class="drop-zone bg-red-100 border-2 border-dashed border-red-300 rounded-lg p-4 min-h-[100px]">
                                <h4 class="text-center font-semibold text-red-800">‚ùå Not Safe to Share</h4>
                            </div>
                        </div>
                        <div id="quiz-feedback" class="text-center text-sm text-gray-700 p-3 bg-yellow-100 border border-yellow-300 rounded-lg min-h-[50px] hidden"></div>
                        <div class="text-center">
                            <button id="reset-quiz-btn" class="bg-gray-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors text-sm">Reset Quiz</button>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-200">
                    <h3 class="text-2xl font-semibold text-center text-gray-900 mb-2">Activity: The Family AI Agreement</h3>
                    <p class="text-center text-gray-600 mb-6">Use this template to have a conversation with your child and set clear expectations together. Click the button to copy the text.</p>
                    <div class="relative bg-stone-100 p-6 rounded-lg border border-gray-300">
                        <button id="copy-btn" class="absolute top-2 right-2 bg-blue-500 text-white px-3 py-1 rounded text-xs font-semibold hover:bg-blue-600 transition-colors">Copy Text</button>
                        <div id="agreement-text">
                            <h4 class="font-bold text-lg mb-4 text-center">Our Family's AI Rules</h4>
                            <ol class="list-decimal list-inside space-y-2 text-gray-700">
                                <li>We will always ask for permission before using an AI tool.</li>
                                <li>We will use AI in a shared family space, not alone in a bedroom.</li>
                                <li>We will never share personal information (like our last name, address, school, or photos).</li>
                                <li>We will use AI to help us create and learn, not to do our homework for us.</li>
                                <li>If anything feels weird or uncomfortable, we will tell a parent right away.</li>
                            </ol>
                            <div class="mt-8 flex justify-around text-sm">
                                <p>(Signed by Parent) ___________________</p>
                                <p>(Signed by Child) ___________________</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <section id="about-spitha" class="py-12 scroll-mt-24">
            <div class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-8 sm:p-12 rounded-xl shadow-lg text-center">
                <h2 class="text-3xl font-bold mb-4">Ready to Ignite Your Child's Creativity? üöÄ</h2>
                <p class="max-w-2xl mx-auto mb-6">
                    This guide is just the beginning. At Spitha AI, we build tools and experiences that make learning with AI safe, fun, and collaborative. We're dedicated to helping parents and children navigate this new world together, turning curiosity into creation.
                </p>
                <a href="https://spitha.ai" target="_blank" class="inline-block bg-white text-blue-600 font-bold px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors transform hover:scale-105">
                    Explore Spitha AI
                </a>
                <div class="mt-8 pt-6 border-t border-blue-400/50 flex flex-wrap justify-center gap-4">
                    <button id="open-feedback-modal-btn" class="bg-white/10 text-white font-semibold px-6 py-2 rounded-lg hover:bg-white/20 transition-colors">
                        Give Us Feedback
                    </button>
                    <button id="open-info-modal-btn" class="bg-white/10 text-white font-semibold px-6 py-2 rounded-lg hover:bg-white/20 transition-colors">
                        Help Us Build for You
                    </button>
                </div>
            </div>
        </section>

        <footer class="text-center py-16 border-t">
            <h3 class="text-2xl font-bold text-blue-800 mb-4">Your Next Steps & Final Thoughts</h3>
            <p class="text-gray-600 mb-6 max-w-3xl mx-auto">The most powerful tool for your child's development is not AI‚Äîit's <span class="font-semibold">you</span>. Your presence, guidance, and enthusiasm are what matter most.</p>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4 text-blue-900 font-medium">
                <span>Stay Curious.</span>
                <span class="hidden sm:inline">&bull;</span>
                <span>Start Small.</span>
                <span class="hidden sm:inline">&bull;</span>
                <span>Talk Openly.</span>
            </div>
             <p class="text-sm text-gray-500 mt-8">Happy Creating!</p>
             <p class="text-xs text-gray-400 mt-4">Created by Mahmoud from <a href="https://spitha.ai" target="_blank" class="underline hover:text-gray-600">spitha.ai</a> using Gemini.</p>
        </footer>

    </div>

    <!-- User Info Modal -->
    <div id="info-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full m-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-800">Help Us Understand Your Needs</h3>
                <button id="close-info-modal-btn" class="text-gray-500 hover:text-gray-800 text-2xl leading-none">&times;</button>
            </div>
            <p class="text-sm text-gray-600 mb-6">Your answers will help us create better tools for families like yours. (All information is anonymous).</p>
            <form id="user-info-form">
                <div class="space-y-4">
                    <div>
                        <label for="child-count" class="block text-sm font-medium text-gray-700">How many children do you have?</label>
                        <input type="number" id="child-count" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" min="1" required>
                    </div>
                    <div>
                        <label for="child-ages" class="block text-sm font-medium text-gray-700">What are their ages? (e.g., 6, 9, 14)</label>
                        <input type="text" id="child-ages" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                    </div>
                    <div>
                        <label for="learning-goals" class="block text-sm font-medium text-gray-700">What do you want them to learn about AI?</label>
                        <textarea id="learning-goals" rows="4" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required></textarea>
                    </div>
                </div>
                <div class="mt-6 flex justify-end gap-4">
                    <button type="button" id="cancel-info-modal-btn" class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300">Cancel</button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">Submit</button>
                </div>
            </form>
            <div id="info-thank-you-message" class="hidden text-center py-8">
                <h3 class="text-xl font-bold text-green-600">Thank you!</h3>
                <p class="text-gray-600">Your input helps us build better tools.</p>
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div id="feedback-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full m-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-800">Give Us Your Feedback</h3>
                <button id="close-feedback-modal-btn" class="text-gray-500 hover:text-gray-800 text-2xl leading-none">&times;</button>
            </div>
            <p class="text-sm text-gray-600 mb-6">We'd love to hear your thoughts on this guide.</p>
            <form id="feedback-form">
                <div class="space-y-4">
                    <div>
                        <label for="feedback-name" class="block text-sm font-medium text-gray-700">Name (Optional)</label>
                        <input type="text" id="feedback-name" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    </div>
                     <div>
                        <label for="feedback-profession" class="block text-sm font-medium text-gray-700">Profession (Optional)</label>
                        <input type="text" id="feedback-profession" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="feedback-rating" class="block text-sm font-medium text-gray-700">Overall Rating</label>
                        <select id="feedback-rating" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                            <option value="">Select a rating</option>
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Excellent</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Great</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê Good</option>
                            <option value="2">‚≠ê‚≠ê Fair</option>
                            <option value="1">‚≠ê Poor</option>
                        </select>
                    </div>
                    <div>
                        <label for="feedback-comment" class="block text-sm font-medium text-gray-700">Comment</label>
                        <textarea id="feedback-comment" rows="4" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required></textarea>
                    </div>
                </div>
                <div class="mt-6 flex justify-end gap-4">
                    <button type="button" id="cancel-feedback-modal-btn" class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300">Cancel</button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">Submit Feedback</button>
                </div>
            </form>
            <div id="feedback-thank-you-message" class="hidden text-center py-8">
                <h3 class="text-xl font-bold text-green-600">Thank you for your feedback!</h3>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scriptURL = 'https://script.google.com/macros/s/AKfycbxjKCNYmjjhHQefhsUywPli1MUnc-LYX5pKFeAfvcqna6npgUN_Q51ikr1P5sy4lbxX/exec'; 

            const tabs = document.querySelectorAll('.tab');
            const tabContentContainer = document.getElementById('tab-content');
            
            const promptData = {
                science: {
                    good: '"Tell me about the planets."',
                    better: '"Create five quiz questions for a 5th grader about the planets, focusing on their size and atmosphere."',
                    best: '"Imagine you are a tour guide on a spaceship. Write a script for a 2-minute tour of Jupiter, making it exciting for a 10-year-old."'
                },
                creative: {
                    good: '"Write a story about a dragon."',
                    better: '"Write a story about a grumpy dragon who loves to bake cakes."',
                    best: '"Write a funny story about a grumpy dragon who loves to bake cakes but keeps accidentally sneezing fire on them. Include his best friend, a brave knight, who helps him solve the problem."'
                },
                history: {
                    good: '"What was the Declaration of Independence?"',
                    better: '"Summarize the Declaration of Independence in three bullet points a middle schooler can understand."',
                    best: '"Co-write a short dialogue between Thomas Jefferson and a modern teenager where Jefferson explains the most important idea in the Declaration of Independence."'
                }
            };

            function updateContent(contentKey) {
                const data = promptData[contentKey];
                tabContentContainer.innerHTML = `
                    <div class="grid md:grid-cols-3 gap-6 text-center">
                        <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                            <h4 class="font-bold text-red-800 mb-2">Good (Passive)</h4>
                            <p class="text-sm text-gray-700 italic">${data.good}</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-300">
                            <h4 class="font-bold text-yellow-800 mb-2">Better (Descriptive)</h4>
                            <p class="text-sm text-gray-700 italic">${data.better}</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg border border-green-300">
                            <h4 class="font-bold text-green-800 mb-2">Best (Creative & Active)</h4>
                            <p class="text-sm text-gray-700 italic">${data.best}</p>
                        </div>
                    </div>
                `;
            }

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    const contentKey = tab.getAttribute('data-content');
                    updateContent(contentKey);
                });
            });

            updateContent('science');

            const copyBtn = document.getElementById('copy-btn');
            const agreementTextElement = document.getElementById('agreement-text');
            copyBtn.addEventListener('click', () => {
                const textToCopy = agreementTextElement.innerText || agreementTextElement.textContent;
                
                const tempTextArea = document.createElement('textarea');
                tempTextArea.value = textToCopy.trim();
                document.body.appendChild(tempTextArea);
                tempTextArea.select();
                try {
                    document.execCommand('copy');
                    copyBtn.textContent = 'Copied!';
                    setTimeout(() => {
                        copyBtn.textContent = 'Copy Text';
                    }, 2000);
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                    copyBtn.textContent = 'Error';
                }
                document.body.removeChild(tempTextArea);
            });
            
            const improveBtn = document.getElementById('improve-btn');
            const userPromptInput = document.getElementById('user-prompt');
            const resultContainer = document.getElementById('result-container');
            const improvedPromptContainer = document.getElementById('improved-prompt');
            const ageGroupSelect = document.getElementById('age-group');
            const activityTypeSelect = document.getElementById('activity-type');
            const promptRating = document.getElementById('prompt-rating');
            const promptRecommendations = document.getElementById('prompt-recommendations');

            improveBtn.addEventListener('click', async () => {
                const userPrompt = userPromptInput.value.trim();
                if (!userPrompt) {
                    improvedPromptContainer.textContent = 'Please enter a prompt first to see how it can be improved.';
                    resultContainer.classList.remove('hidden');
                    document.getElementById('analysis-container').classList.add('hidden');
                    return;
                }

                improveBtn.disabled = true;
                improveBtn.innerHTML = `<span>Improving...</span> <span class="animate-spin">‚öôÔ∏è</span>`;
                resultContainer.classList.remove('hidden');
                improvedPromptContainer.textContent = 'Thinking of a creative idea...';
                promptRating.textContent = '';
                promptRecommendations.innerHTML = '';


                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                
                const ageGroup = ageGroupSelect.value;
                const activityType = activityTypeSelect.value;

                const systemPrompt = `You are an expert in creative education for children. Your task is to analyze a user's prompt and provide feedback as a JSON object. The JSON object must contain exactly three keys: "improvedPrompt", "rating", and "recommendations".

                - "improvedPrompt": Transform the user's simple prompt into an active, and creative prompt suitable for a parent to use with their child of the target age group (${ageGroup}) for the desired activity ("${activityType}"). This prompt should encourage storytelling, world-building, or creative problem-solving. Keep it fun, engaging, and concise (1-2 sentences).
                - "rating": Rate the original user's prompt. Use a clear,short and constructive rating.
                - "recommendations": Provide a short array of 2-3 strings, each being an actionable tip to make the original prompt more descriptive or imaginative. The tips should be straight to the point.
                
                Do not include any other text, markdown, or formatting outside of the JSON structure.`;

                const payload = {
                    contents: [{ parts: [{ text: userPrompt }] }],
                    generationConfig: {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: "OBJECT",
                            properties: {
                                "improvedPrompt": { "type": "STRING" },
                                "rating": { "type": "STRING" },
                                "recommendations": {
                                    "type": "ARRAY",
                                    "items": { "type": "STRING" }
                                }
                            }
                        }
                    },
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API error: ${response.statusText}`);
                    }

                    const result = await response.json();
                    const jsonText = result.candidates?.[0]?.content?.parts?.[0]?.text;
                    
                    if (jsonText) {
                        const data = JSON.parse(jsonText);
                        improvedPromptContainer.textContent = data.improvedPrompt;
                        promptRating.textContent = data.rating;
                        
                        promptRecommendations.innerHTML = '';
                        data.recommendations.forEach(rec => {
                            const li = document.createElement('li');
                            li.textContent = rec;
                            promptRecommendations.appendChild(li);
                        });
                        document.getElementById('analysis-container').classList.remove('hidden');

                    } else {
                        throw new Error("Received an empty response from the API.");
                    }

                } catch (error) {
                    console.error("Error improving prompt:", error);
                    improvedPromptContainer.textContent = "Sorry, something went wrong. Please try a different prompt.";
                    document.getElementById('analysis-container').classList.add('hidden');
                } finally {
                    improveBtn.disabled = false;
                    improveBtn.innerHTML = `<span>Improve My Prompt</span> ‚ú®`;
                }
            });
            
            function setupQuiz() {
                const quizCards = document.querySelectorAll('.quiz-card');
                const dropZones = document.querySelectorAll('.drop-zone');
                const quizFeedback = document.getElementById('quiz-feedback');
                let draggedCard = null;

                quizCards.forEach(card => {
                    card.addEventListener('dragstart', (e) => {
                        draggedCard = card;
                        setTimeout(() => card.classList.add('dragging'), 0);
                        quizFeedback.classList.add('hidden');
                        quizFeedback.textContent = '';
                    });

                    card.addEventListener('dragend', () => {
                        draggedCard.classList.remove('dragging');
                        draggedCard = null;
                    });
                });

                dropZones.forEach(zone => {
                    zone.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        zone.classList.add('drag-over');
                    });

                    zone.addEventListener('dragleave', () => {
                        zone.classList.remove('drag-over');
                    });

                    zone.addEventListener('drop', (e) => {
                        e.preventDefault();
                        zone.classList.remove('drag-over');
                        if (draggedCard) {
                            const isSafeCard = draggedCard.dataset.safe === 'true';
                            const isSafeZone = zone.id === 'safe-zone';
                            
                            draggedCard.draggable = false;
                            draggedCard.classList.remove('cursor-grab', 'active:cursor-grabbing');
                            draggedCard.classList.add('opacity-70');
                            zone.appendChild(draggedCard);

                            if (isSafeCard === isSafeZone) {
                                draggedCard.innerHTML += ' <span class="text-green-600 font-bold">‚úì</span>';
                            } else {
                                draggedCard.innerHTML += ' <span class="text-red-600 font-bold">‚úó</span>';
                            }

                            if (!isSafeCard) {
                                let originalText = draggedCard.textContent.replace(' ‚úó','').replace(' ‚úì','');
                                quizFeedback.innerHTML = `<span class="font-bold">Why is "${originalText}" not safe to share?</span> ${draggedCard.dataset.reason}`;
                                quizFeedback.classList.remove('hidden');
                            }
                        }
                    });
                });
            }

            function resetQuiz() {
                const cardDeck = document.getElementById('card-deck');
                const dropZones = document.querySelectorAll('.drop-zone');
                const quizFeedback = document.getElementById('quiz-feedback');

                quizFeedback.classList.add('hidden');
                dropZones.forEach(zone => {
                    const cards = zone.querySelectorAll('.quiz-card');
                    cards.forEach(card => cardDeck.appendChild(card));
                });
                
                const allCards = cardDeck.querySelectorAll('.quiz-card');
                allCards.forEach(card => {
                    card.draggable = true;
                    card.classList.add('cursor-grab', 'active:cursor-grabbing');
                    card.classList.remove('opacity-70');
                    card.innerHTML = card.textContent.replace(' ‚úì', '').replace(' ‚úó', '');
                });
            }
            
            document.getElementById('reset-quiz-btn').addEventListener('click', resetQuiz);

            setupQuiz();

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section');

            const options = {
                root: null,
                rootMargin: '0px',
                threshold: 0.4
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active-nav');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active-nav');
                            }
                        });
                    }
                });
            }, options);

            sections.forEach(section => {
                observer.observe(section);
            });

            navLinks.forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // User Info Modal Logic
            const infoModal = document.getElementById('info-modal');
            const openInfoModalBtn = document.getElementById('open-info-modal-btn');
            const closeInfoModalBtn = document.getElementById('close-info-modal-btn');
            const cancelInfoModalBtn = document.getElementById('cancel-info-modal-btn');
            const userInfoForm = document.getElementById('user-info-form');
            const infoThankYouMessage = document.getElementById('info-thank-you-message');

            function showInfoModal() { infoModal.classList.remove('hidden'); }
            function hideInfoModal() {
                infoModal.classList.add('hidden');
                userInfoForm.classList.remove('hidden');
                infoThankYouMessage.classList.add('hidden');
                userInfoForm.reset();
            }

            openInfoModalBtn.addEventListener('click', showInfoModal);
            closeInfoModalBtn.addEventListener('click', hideInfoModal);
            cancelInfoModalBtn.addEventListener('click', hideInfoModal);
            infoModal.addEventListener('click', (e) => { if(e.target === infoModal) hideInfoModal(); });
            
            userInfoForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const submitButton = userInfoForm.querySelector('button[type="submit"]');
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting...';

                const data = {
                    formType: 'userInfo',
                    childCount: document.getElementById('child-count').value,
                    childAges: document.getElementById('child-ages').value,
                    learningGoals: document.getElementById('learning-goals').value
                };

                fetch(scriptURL, { 
                    method: 'POST',
                    mode: 'no-cors',
                    body: JSON.stringify(data), 
                    headers: { 'Content-Type': 'application/json' },
                })
                .then(res => {
                    userInfoForm.classList.add('hidden');
                    infoThankYouMessage.classList.remove('hidden');
                    setTimeout(hideInfoModal, 2000);
                })
                .catch(error => {
                    // This catch block will likely run, but the data should still be sent.
                    // So we show the success message regardless.
                    userInfoForm.classList.add('hidden');
                    infoThankYouMessage.classList.remove('hidden');
                    setTimeout(hideInfoModal, 2000);
                })
                .finally(() => {
                    submitButton.disabled = false;
                    submitButton.textContent = 'Submit';
                });
            });

            // Feedback Modal Logic
            const feedbackModal = document.getElementById('feedback-modal');
            const openFeedbackModalBtn = document.getElementById('open-feedback-modal-btn');
            const closeFeedbackModalBtn = document.getElementById('close-feedback-modal-btn');
            const cancelFeedbackModalBtn = document.getElementById('cancel-feedback-modal-btn');
            const feedbackForm = document.getElementById('feedback-form');
            const feedbackThankYouMessage = document.getElementById('feedback-thank-you-message');

            function showFeedbackModal() { feedbackModal.classList.remove('hidden'); }
            function hideFeedbackModal() {
                feedbackModal.classList.add('hidden');
                feedbackForm.classList.remove('hidden');
                feedbackThankYouMessage.classList.add('hidden');
                feedbackForm.reset();
            }

            openFeedbackModalBtn.addEventListener('click', showFeedbackModal);
            closeFeedbackModalBtn.addEventListener('click', hideFeedbackModal);
            cancelFeedbackModalBtn.addEventListener('click', hideFeedbackModal);
            feedbackModal.addEventListener('click', (e) => { if(e.target === feedbackModal) hideFeedbackModal(); });

            feedbackForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const submitButton = feedbackForm.querySelector('button[type="submit"]');
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting...';

                const data = {
                    formType: 'feedback',
                    name: document.getElementById('feedback-name').value,
                    profession: document.getElementById('feedback-profession').value,
                    rating: document.getElementById('feedback-rating').value,
                    comment: document.getElementById('feedback-comment').value
                };
                
                fetch(scriptURL, { 
                    method: 'POST',
                    mode: 'no-cors',
                    body: JSON.stringify(data), 
                    headers: { 'Content-Type': 'application/json' },
                })
                .then(res => {
                    feedbackForm.classList.add('hidden');
                    feedbackThankYouMessage.classList.remove('hidden');
                    setTimeout(hideFeedbackModal, 2000);
                })
                .catch(error => {
                     // This catch block will likely run, but the data should still be sent.
                    // So we show the success message regardless.
                    feedbackForm.classList.add('hidden');
                    feedbackThankYouMessage.classList.remove('hidden');
                    setTimeout(hideFeedbackModal, 2000);
                })
                .finally(() => {
                    submitButton.disabled = false;
                    submitButton.textContent = 'Submit Feedback';
                });
            });

        });
    </script>
</body>
</html>

